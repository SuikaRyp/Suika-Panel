<!-- Update bagian login form di login.html -->
<form id="loginForm">
    <div class="mb-3">
        <label class="form-label">
            <i class="fas fa-envelope me-1"></i> Email Address
        </label>
        <input type="email" class="form-control form-control-lg" 
               id="email" required placeholder="admin@productyl.local">
    </div>
    
    <div class="mb-4">
        <label class="form-label">
            <i class="fas fa-lock me-1"></i> Password
        </label>
        <input type="password" class="form-control form-control-lg" 
               id="password" required placeholder="••••••••">
    </div>
    
    <div class="d-grid mb-3">
        <button type="submit" class="btn btn-primary btn-lg">
            <i class="fas fa-sign-in-alt me-2"></i> Sign In
        </button>
    </div>
    
    <div class="text-center">
        <a href="#" class="text-decoration-none" onclick="useAdminAccount()">
            Use Admin Account
        </a>
    </div>
</form>

<script>
// Update fungsi login di login.html
async function useAdminAccount() {
    document.getElementById('email').value = 'admin@productyl.local';
    document.getElementById('password').value = 'admin123';
}

document.getElementById('loginForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    
    const user = await loginUser(email, password);
    
    if (user) {
        // Save to localStorage (without password)
        localStorage.setItem('currentUser', JSON.stringify(user));
        
        // Redirect based on role
        if (user.is_admin) {
            window.location.href = 'admin/index.html';
        } else {
            window.location.href = 'index.html';
        }
    } else {
        alert('Invalid email or password!');
    }
});
</script>